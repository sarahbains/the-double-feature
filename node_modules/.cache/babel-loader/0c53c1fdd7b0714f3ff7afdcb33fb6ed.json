{"ast":null,"code":"import _toConsumableArray from\"/Users/sarahbains/Desktop/websites/the-dbl-feature/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";// Global App State\nimport globalHook from'use-global-hook';import{appStorageName}from'../globals/globals';function getFavs(){var favsFromStorage=localStorage.getItem(appStorageName);if(favsFromStorage===null){favsFromStorage=[];}else{favsFromStorage=JSON.parse(favsFromStorage);}return favsFromStorage;}var actions={addFav:function addFav(store,movieObj){var newFavs=[].concat(_toConsumableArray(store.state.favs),[movieObj]);var newFavsForStorage=JSON.stringify(newFavs);localStorage.setItem(appStorageName,newFavsForStorage);store.setState({favs:newFavs});},removeFav:function removeFav(store,id){var currentFavs=store.state.favs;var indexOfMovieToRemove=currentFavs.findIndex(function(movieObj){return movieObj.id===id;});currentFavs.splice(indexOfMovieToRemove,1);var favsForStorage=JSON.stringify(currentFavs);localStorage.setItem(appStorageName,favsForStorage);store.setState({favs:currentFavs});},setFavs:function setFavs(store){store.setState({favs:getFavs()});}};var initialState={favs:getFavs()};var useGlobal=globalHook(initialState,actions);export default useGlobal;","map":{"version":3,"sources":["/Users/sarahbains/Desktop/websites/the-dbl-feature/src/store/globalAppState.js"],"names":["globalHook","appStorageName","getFavs","favsFromStorage","localStorage","getItem","JSON","parse","actions","addFav","store","movieObj","newFavs","state","favs","newFavsForStorage","stringify","setItem","setState","removeFav","id","currentFavs","indexOfMovieToRemove","findIndex","splice","favsForStorage","setFavs","initialState","useGlobal"],"mappings":"iLAAA;AAEA,MAAOA,CAAAA,UAAP,KAAuB,iBAAvB,CACA,OAASC,cAAT,KAA+B,oBAA/B,CAEA,QAASC,CAAAA,OAAT,EAAkB,CACd,GAAIC,CAAAA,eAAe,CAAGC,YAAY,CAACC,OAAb,CAAqBJ,cAArB,CAAtB,CACA,GAAGE,eAAe,GAAK,IAAvB,CAA4B,CACxBA,eAAe,CAAG,EAAlB,CACH,CAFD,IAEK,CACDA,eAAe,CAAGG,IAAI,CAACC,KAAL,CAAWJ,eAAX,CAAlB,CACH,CACD,MAAOA,CAAAA,eAAP,CACH,CAED,GAAMK,CAAAA,OAAO,CAAG,CACZC,MAAM,CAAE,gBAACC,KAAD,CAAQC,QAAR,CAAqB,CAEzB,GAAMC,CAAAA,OAAO,8BAAOF,KAAK,CAACG,KAAN,CAAYC,IAAnB,GAAyBH,QAAzB,EAAb,CAEA,GAAMI,CAAAA,iBAAiB,CAAGT,IAAI,CAACU,SAAL,CAAeJ,OAAf,CAA1B,CAEAR,YAAY,CAACa,OAAb,CAAqBhB,cAArB,CAAqCc,iBAArC,EAEAL,KAAK,CAACQ,QAAN,CAAe,CAAEJ,IAAI,CAAEF,OAAR,CAAf,EAEH,CAXW,CAYZO,SAAS,CAAE,mBAACT,KAAD,CAAQU,EAAR,CAAe,CAEtB,GAAIC,CAAAA,WAAW,CAAGX,KAAK,CAACG,KAAN,CAAYC,IAA9B,CAEA,GAAMQ,CAAAA,oBAAoB,CAAGD,WAAW,CAACE,SAAZ,CAAsB,SAACZ,QAAD,QAAcA,CAAAA,QAAQ,CAACS,EAAT,GAAgBA,EAA9B,EAAtB,CAA7B,CACAC,WAAW,CAACG,MAAZ,CAAmBF,oBAAnB,CAAyC,CAAzC,EAEA,GAAIG,CAAAA,cAAc,CAAGnB,IAAI,CAACU,SAAL,CAAeK,WAAf,CAArB,CACAjB,YAAY,CAACa,OAAb,CAAqBhB,cAArB,CAAqCwB,cAArC,EAEAf,KAAK,CAACQ,QAAN,CAAe,CAAEJ,IAAI,CAAEO,WAAR,CAAf,EAEH,CAxBW,CAyBZK,OAAO,CAAE,iBAAChB,KAAD,CAAW,CAChBA,KAAK,CAACQ,QAAN,CAAe,CAAEJ,IAAI,CAAEZ,OAAO,EAAf,CAAf,EACH,CA3BW,CAAhB,CA8BA,GAAMyB,CAAAA,YAAY,CAAG,CACjBb,IAAI,CAAEZ,OAAO,EADI,CAArB,CAIA,GAAM0B,CAAAA,SAAS,CAAG5B,UAAU,CAAC2B,YAAD,CAAenB,OAAf,CAA5B,CAEA,cAAeoB,CAAAA,SAAf","sourcesContent":["// Global App State\n\nimport globalHook from 'use-global-hook';\nimport { appStorageName } from '../globals/globals';\n\nfunction getFavs(){\n    let favsFromStorage = localStorage.getItem(appStorageName);\n    if(favsFromStorage === null){\n        favsFromStorage = [];\n    }else{\n        favsFromStorage = JSON.parse(favsFromStorage);\n    }\n    return favsFromStorage;\n}\n\nconst actions = {\n    addFav: (store, movieObj) => {\n\n        const newFavs = [...store.state.favs, movieObj];\n\n        const newFavsForStorage = JSON.stringify(newFavs);\n        \n        localStorage.setItem(appStorageName, newFavsForStorage);\n        \n        store.setState({ favs: newFavs });\n\n    },\n    removeFav: (store, id) => {\n\n        let currentFavs = store.state.favs;\n\n        const indexOfMovieToRemove = currentFavs.findIndex((movieObj) => movieObj.id === id);\n        currentFavs.splice(indexOfMovieToRemove, 1);\n    \n        let favsForStorage = JSON.stringify(currentFavs);\n        localStorage.setItem(appStorageName, favsForStorage);\n        \n        store.setState({ favs: currentFavs });\n\n    }, \n    setFavs: (store) => {\n        store.setState({ favs: getFavs() })\n    } \n}\n\nconst initialState = {\n    favs: getFavs()\n}\n\nconst useGlobal = globalHook(initialState, actions);\n\nexport default useGlobal;"]},"metadata":{},"sourceType":"module"}