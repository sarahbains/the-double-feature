{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sarahbains/Desktop/websites/the-dbl-feature/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sarahbains/Desktop/websites/the-dbl-feature/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sarahbains/Desktop/websites/the-dbl-feature/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import{useParams}from'react-router-dom';import useGlobal from'../store/globalAppState';import SingleMovie from'../components/SingleMovie';import{API_TOKEN}from'../globals/globals';import{jsx as _jsx}from\"react/jsx-runtime\";function PageSingleMovie(){var _useGlobal=useGlobal(),_useGlobal2=_slicedToArray(_useGlobal,2),globalState=_useGlobal2[0],globalActions=_useGlobal2[1];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),ready=_useState2[0],setReady=_useState2[1];useEffect(function(){globalActions.setFavs();setReady(true);},[globalActions]);var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),movieData=_useState4[0],setMovieData=_useState4[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){var fetchMovie=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,rawMovieData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.themoviedb.org/3/movie/\".concat(id,\"?language=en-US\"),{headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':'Bearer '+API_TOKEN}});case 2:res=_context.sent;_context.next=5;return res.json();case 5:rawMovieData=_context.sent;setMovieData(rawMovieData);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchMovie(){return _ref.apply(this,arguments);};}();fetchMovie();},[]);return/*#__PURE__*/_jsx(\"section\",{className:\"single-movie-page\",children:movieData!==null&&/*#__PURE__*/_jsx(SingleMovie,{movieObj:movieData,isFav:true})});}export default PageSingleMovie;","map":{"version":3,"sources":["/Users/sarahbains/Desktop/websites/the-dbl-feature/src/pages/PageMovieInfo.js"],"names":["useEffect","useState","useParams","useGlobal","SingleMovie","API_TOKEN","PageSingleMovie","globalState","globalActions","ready","setReady","setFavs","movieData","setMovieData","id","fetchMovie","fetch","headers","res","json","rawMovieData"],"mappings":"wfACA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,OAASC,SAAT,KAA0B,oBAA1B,C,2CAEA,QAASC,CAAAA,eAAT,EAA2B,CACvB,eAAqCH,SAAS,EAA9C,0CAAOI,WAAP,gBAAoBC,aAApB,gBAEA,cAA0BP,QAAQ,CAAC,KAAD,CAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eAEHV,SAAS,CAAC,UAAM,CACTQ,aAAa,CAACG,OAAd,GACJD,QAAQ,CAAC,IAAD,CAAR,CACD,CAHO,CAGL,CAACF,aAAD,CAHK,CAAT,CAKG,eAAkCP,QAAQ,CAAC,IAAD,CAA1C,yCAAOW,SAAP,eAAkBC,YAAlB,eAEA,eAAeX,SAAS,EAAxB,CAAQY,EAAR,YAAQA,EAAR,CAEAd,SAAS,CAAC,UAAM,CAEZ,GAAMe,CAAAA,UAAU,0FAAG,8KAEGC,CAAAA,KAAK,8CAAuCF,EAAvC,oBAA4D,CAC/EG,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAGL,gBAAiB,UAAYZ,SAHxB,CADsE,CAA5D,CAFR,QAETa,GAFS,qCASUA,CAAAA,GAAG,CAACC,IAAJ,EATV,QASXC,YATW,eAUfP,YAAY,CAACO,YAAD,CAAZ,CAVe,sDAAH,kBAAVL,CAAAA,UAAU,0CAAhB,CAcAA,UAAU,GAEb,CAlBQ,CAkBN,EAlBM,CAAT,CAoBA,mBACI,gBAAS,SAAS,CAAC,mBAAnB,UACKH,SAAS,GAAK,IAAd,eAAsB,KAAC,WAAD,EAAa,QAAQ,CAAEA,SAAvB,CAAkC,KAAK,CAAE,IAAzC,EAD3B,EADJ,CAKH,CAED,cAAeN,CAAAA,eAAf","sourcesContent":["\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport useGlobal from '../store/globalAppState';\nimport SingleMovie from '../components/SingleMovie';\nimport { API_TOKEN } from '../globals/globals';\n\nfunction PageSingleMovie() {\n    const [globalState, globalActions] = useGlobal();\n\n    const [ready, setReady] = useState(false);\n\n\tuseEffect(() => {\n        globalActions.setFavs();\n    setReady(true);\n  }, [globalActions]);\n\n    const [movieData, setMovieData] = useState(null);\n\n    const { id } = useParams();\n    \n    useEffect(() => {\n\n        const fetchMovie = async () => {\n\n            const res = await fetch(`https://api.themoviedb.org/3/movie/${id}?language=en-US`, {\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': 'Bearer ' + API_TOKEN\n                }\n            });\n            let rawMovieData = await res.json();\n            setMovieData(rawMovieData);\n\n        }\n\n        fetchMovie();\n\n    }, []);\n\n    return (\n        <section className=\"single-movie-page\">\n            {movieData !== null && <SingleMovie movieObj={movieData} isFav={true}  />}\n        </section>\n    )\n}\n\nexport default PageSingleMovie;\n"]},"metadata":{},"sourceType":"module"}