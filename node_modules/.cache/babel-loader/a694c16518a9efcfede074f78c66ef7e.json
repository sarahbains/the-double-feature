{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sarahbains/Desktop/websites/the-dbl-feature/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sarahbains/Desktop/websites/the-dbl-feature/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sarahbains/Desktop/websites/the-dbl-feature/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import FilterNav from'../components/FilterNav';import Library from'../components/Library';import{useEffect,useState}from'react';import{API_TOKEN}from'../globals/globals';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PageHome(_ref){var sort=_ref.sort;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),movieData=_useState2[0],setMovieData=_useState2[1];useEffect(function(){var fetchMovies=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,rawMovieData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.themoviedb.org/3/movie/\".concat(sort,\"?&language=en-US&page=1\"),{headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':'Bearer '+API_TOKEN}});case 2:res=_context.sent;_context.next=5;return res.json();case 5:rawMovieData=_context.sent;rawMovieData=rawMovieData.results.splice(0,16);setMovieData(rawMovieData);console.log(rawMovieData);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchMovies(){return _ref2.apply(this,arguments);};}();fetchMovies();},[sort]);return/*#__PURE__*/_jsxs(\"section\",{className:\"home-page\",children:[/*#__PURE__*/_jsx(FilterNav,{}),movieData!==null&&/*#__PURE__*/_jsx(Library,{movieData:movieData})]});}export default PageHome;","map":{"version":3,"sources":["/Users/sarahbains/Desktop/websites/the-dbl-feature/src/pages/PageHome.js"],"names":["FilterNav","Library","useEffect","useState","API_TOKEN","PageHome","sort","movieData","setMovieData","fetchMovies","fetch","headers","res","json","rawMovieData","results","splice","console","log"],"mappings":"wfAAA,MAAOA,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,OAAP,KAAqB,uBAArB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,SAAT,KAAyB,oBAAzB,C,wFAEA,QAASC,CAAAA,QAAT,MAA4B,IAARC,CAAAA,IAAQ,MAARA,IAAQ,CAExB,cAAkCH,QAAQ,CAAC,IAAD,CAA1C,wCAAOI,SAAP,eAAkBC,YAAlB,eAEAN,SAAS,CAAC,UAAM,CAEZ,GAAMO,CAAAA,WAAW,2FAAG,8KAEEC,CAAAA,KAAK,8CAAuCJ,IAAvC,4BAAsE,CACzFK,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAGL,gBAAiB,UAAYP,SAHxB,CADgF,CAAtE,CAFP,QAEVQ,GAFU,qCASSA,CAAAA,GAAG,CAACC,IAAJ,EATT,QASZC,YATY,eAUhBA,YAAY,CAAGA,YAAY,CAACC,OAAb,CAAqBC,MAArB,CAA4B,CAA5B,CAA+B,EAA/B,CAAf,CACAR,YAAY,CAACM,YAAD,CAAZ,CACAG,OAAO,CAACC,GAAR,CAAYJ,YAAZ,EAZgB,sDAAH,kBAAXL,CAAAA,WAAW,2CAAjB,CAgBAA,WAAW,GAGd,CArBQ,CAqBN,CAACH,IAAD,CArBM,CAAT,CAsBA,mBACI,iBAAS,SAAS,CAAC,WAAnB,wBACI,KAAC,SAAD,IADJ,CAEKC,SAAS,GAAK,IAAd,eAAsB,KAAC,OAAD,EAAS,SAAS,CAAEA,SAApB,EAF3B,GADJ,CAMH,CAED,cAAeF,CAAAA,QAAf","sourcesContent":["import FilterNav from '../components/FilterNav'\nimport Library  from '../components/Library'\nimport { useEffect, useState } from 'react';\nimport { API_TOKEN} from '../globals/globals';\n\nfunction PageHome({ sort }) {\n\n    const [movieData, setMovieData] = useState(null);\n\n    useEffect(() => {\n\n        const fetchMovies = async () => {\n\n            const res = await fetch(`https://api.themoviedb.org/3/movie/${sort}?&language=en-US&page=1`, {\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': 'Bearer ' + API_TOKEN\n                }\n            });\n            let rawMovieData = await res.json();\n            rawMovieData = rawMovieData.results.splice(0, 16);\n            setMovieData(rawMovieData);\n            console.log(rawMovieData);\n\n        }\n\n        fetchMovies();\n\n\n    }, [sort]);\n    return (\n        <section className='home-page'>\n            <FilterNav />\n            {movieData !== null && <Library movieData={movieData} />}\n        </section>\n    )\n}\n\nexport default PageHome\n"]},"metadata":{},"sourceType":"module"}